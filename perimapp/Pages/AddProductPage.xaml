<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="perimapp.Pages.AddProductPage"
             xmlns:headers="clr-namespace:perimapp.Headers"
             BackgroundColor="White">
    
    <ContentPage.Content>
        <Grid RowDefinitions="Auto, *, Auto">
            <headers:SharedHeader Grid.Row="0" HeaderText="Ajout Produit">
            </headers:SharedHeader>
            
            <ContentView Grid.Row="1" 
                        Padding="10" HorizontalOptions="FillAndExpand"   VerticalOptions="FillAndExpand">
                   
                   <VerticalStackLayout Spacing="10" HorizontalOptions="FillAndExpand">
                        
                        <Button Text="Scanner le produit" 
                                FontSize="20"
                                BackgroundColor="#58BF7F"
                                TextColor="White"
                                CornerRadius="50"
                                WidthRequest="300"
                                HeightRequest="40"
                                HorizontalOptions="Center"
                                VerticalOptions="Center"
                                Margin="0,10, 0, 0"
                                Padding="0, -3, 0, 0"/>
                        
                        <Border WidthRequest="180"
                                HeightRequest="180"
                                HorizontalOptions="Center"
                                VerticalOptions="Center"
                                Margin="0,10, 0, 0"
                                Padding="0"                
                                BackgroundColor="LightGray"   
                                StrokeShape="{RoundRectangle CornerRadius='3'}"  
                                Stroke="Transparent"       
                                StrokeThickness="0">
                               <Grid>
                                      <Label Text="Photo du produit"
                                             TextColor="Black"
                                             FontSize="18"
                                             HorizontalOptions="Center"
                                             VerticalOptions="Center"
                                             IsVisible="{Binding HasNoImage, Mode=OneWay}"/> 
                                      <Image Source="{Binding }" 
                                             Aspect="AspectFill"     
                                             HorizontalOptions="Center"
                                             VerticalOptions="Center"
                                             IsVisible="{Binding HasImage, Mode=OneWay}" />
                               </Grid>
                        </Border>
                        
                        <Button Text="Code Produit" 
                                FontSize="20"
                                BackgroundColor="#58BF7F"
                                TextColor="White"
                                CornerRadius="50"
                                WidthRequest="300"
                                HeightRequest="40"
                                HorizontalOptions="Center"
                                VerticalOptions="Center"
                                Margin="0,10, 0, 0"
                                Padding="0, -3, 0, 0"/>

                        <Label Text="Nom du produit"
                               FontSize="20"
                               TextColor="Black"
                               HorizontalOptions="Center"
                               HorizontalTextAlignment="Center" 
                               Margin="0,5, 0, 0"/>
                        
                        <Label Text="DLC"
                               FontSize="20"
                               TextColor="Black"
                               HorizontalOptions="Center"
                               HorizontalTextAlignment="Center"
                               Margin="0,5, 0, 0"/>
                        
                        <Button Text="**/**/****" 
                                FontSize="20"
                                BackgroundColor="#58BF7F"
                                TextColor="White"
                                CornerRadius="50"
                                WidthRequest="300"
                                HeightRequest="40"
                                HorizontalOptions="Center"
                                VerticalOptions="Center"
                                Margin="0,5, 0, 0"
                                Padding="0, -3, 0, 0"/>

                        <Label Text="QuantitÃ©"
                               FontSize="20"
                               TextColor="Black"
                               HorizontalOptions="Center"/>

                        <Grid ColumnDefinitions="Auto, Auto, Auto"
                              HorizontalOptions="Center"
                              VerticalOptions="Center"
                              RowSpacing="0"
                              ColumnSpacing="5">
                            
                              <Border Grid.Column="0"
                                    WidthRequest="50"
                                    HeightRequest="30"
                                    Stroke="Black"
                                    StrokeThickness="1"
                                    StrokeShape="{RoundRectangle CornerRadius='5'}"
                                    BackgroundColor="White"
                                    VerticalOptions="Center"
                                    HorizontalOptions="Center">
                                  
                                    <Button Text="-"
                                          FontSize="25"
                                          TextColor="Black"
                                          BackgroundColor="Transparent"
                                          CornerRadius="5"
                                          Padding="0, -6, 0, 0"
                                          VerticalOptions="FillAndExpand"
                                          HorizontalOptions="FillAndExpand"
                                          Clicked="OnDecrementQuantityClicked"/>
                              </Border>
                            
                              <Border Grid.Column="1"
                                    WidthRequest="50" HeightRequest="50"
                                    Stroke="Black"
                                    StrokeThickness="1"
                                    StrokeShape="{RoundRectangle CornerRadius='5'}"
                                    BackgroundColor="White"
                                    VerticalOptions="Center"
                                    HorizontalOptions="Center">
                                    <Entry x:Name="QuantityEntry"
                                         Text="1"
                                         FontSize="25"
                                         TextColor="Black"
                                         Keyboard="Numeric"
                                         HorizontalTextAlignment="Center"
                                         VerticalTextAlignment="Justify"
                                         Placeholder="1"
                                         ClearButtonVisibility="Never"
                                         MaxLength="3" 
                                         Margin="0"
                                         Unfocused="QuantityEntry_Unfocused"/>
                              </Border>

                              <Border Grid.Column="2"
                                     WidthRequest="50"
                                     HeightRequest="30"
                                     Stroke="Black"
                                     StrokeThickness="1"
                                     StrokeShape="{RoundRectangle CornerRadius='5'}"
                                     BackgroundColor="White"
                                     VerticalOptions="Center"
                                     HorizontalOptions="Center">
                                     
                                     <Button Text="+"
                                             FontSize="25"
                                             TextColor="Black"
                                             BackgroundColor="Transparent"
                                             CornerRadius="5"
                                             Padding="0, -6, 0, 0"
                                             VerticalOptions="FillAndExpand"
                                             HorizontalOptions="FillAndExpand"
                                             Clicked="OnIncrementQuantityClicked" />
                              </Border>
                        </Grid>

                    <ContentView VerticalOptions="FillAndExpand" /> 
                 </VerticalStackLayout>
            </ContentView>
               <Grid Grid.Row="2"
                     HeightRequest="65"
                     BackgroundColor="#58BF7F"
                     HorizontalOptions="FillAndExpand"
                     VerticalOptions="End">
                      <Button Text="Valider"
                              BackgroundColor="White"
                              TextColor="Black"
                              FontAttributes="Bold"
                              CornerRadius="30"
                              FontSize="20"
                              Padding="0,5"
                              Margin="0,10"
                              WidthRequest="300"
                              HorizontalOptions="FillAndExpand"
                              VerticalOptions="Center"/>
               </Grid>
        </Grid>

    </ContentPage.Content>
</ContentPage>